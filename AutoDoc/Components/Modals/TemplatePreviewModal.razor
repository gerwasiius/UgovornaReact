@* TemplatePreviewModal.razor *@
@using AutoDocFront.Components.Shared
@inherits ModalBase

<BaseModalLayout IsOpen="@IsOpen"
                 IsOpenChanged="@IsOpenChanged"
                 Title="@($"Pregled: {TemplateName}")"
                 ModalSize="modal-xl">
    <BodyContent>
        <div style="min-height:400px;">
            @if (IsLoading)
            {
                <div class="spinner"></div>
            }
            else if (!string.IsNullOrEmpty(ErrorMessage))
            {
                <div class="alert alert-danger">@ErrorMessage</div>
            }
            else
            {
                <div class="border rounded p-3" style="background:#fff; min-height:300px; max-height:70vh; overflow:auto;">
                    @if (!string.IsNullOrEmpty(HtmlContent))
                    {
                        @((MarkupString)HtmlContent)
                    }
                    else
                    {
                        <span class="text-secondary">Nema sadržaja za prikaz.</span>
                    }
                </div>
            }
        </div>
    </BodyContent>
    <FooterContent>
        <div class="modal-footer">
            <button class="btn btn-secondary" @onclick="CloseAsync">Zatvori</button>
        </div>
    </FooterContent>
</BaseModalLayout>
